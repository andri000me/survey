<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager 
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KDGVN9V');</script>
<!-- End Google Tag Manager -->

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title>Dashboard - PBB</title>

    <meta name="description" content="API PBB" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <meta name="author" content="Miladiyyah">
    <meta name="keyword" content="payment, gateway, dompet, pulsa, info, informasi, software, software house, komputer, probolinggo, komputer probolinggo, web, cctv, hardware, laptop, netbook, aplikasi">

    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/bootstrap.min.css') ?>" />
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/font-awesome/4.5.0/css/font-awesome.min.css') ?>" />

    <!-- page specific plugin styles -->
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/jquery-ui.custom.min.css') ?>" />
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/chosen.min.css') ?>" />
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/colorbox.min.css') ?>" />
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/select2.min.css') ?>" />
    <!-- text fonts
		<link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/fonts.googleapis.com.css') ?>" />-->

    <!-- ace styles -->
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/ace.min.css') ?>" class="ace-main-stylesheet" id="main-ace-style" />

    <!--[if lte IE 9]>
			<link rel="stylesheet" href="assets/css/ace-part2.min.css" class="ace-main-stylesheet" />
		<![endif]-->
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/ace-skins.min.css') ?>" />
    <link rel="stylesheet" href="<?php echo base_url('ace-master/assets/css/ace-rtl.min.css') ?>" />

    <!--[if lte IE 9]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->

    <!-- inline styles related to this page -->

    <!-- ace settings handler -->
    <script src="<?php echo base_url('ace-master/assets/js/ace-extra.min.js') ?>"></script>

    <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

    <!--[if lte IE 8]>
		<script src="assets/js/html5shiv.min.js"></script>
		<script src="assets/js/respond.min.js"></script>
		<![endif]-->

    <!-- DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="<?php echo base_url('adminlte/plugins/datatables/dataTables.bootstrap.css') ?>">
    <link rel="stylesheet" href="https://cdn.datatables.net/rowreorder/1.2.3/css/rowReorder.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.1/css/responsive.dataTables.min.css">




    <!-- Morris charts -->
    <link rel="stylesheet" href="<?php echo base_url('adminlte/plugins/morris/morris.css'); ?>">

    <!-- datepicker -->
    <link rel="stylesheet" href="<?php echo base_url('assets/bootstrap-datepicker/css/datepicker.css'); ?>">
    
</head>

<body class="no-skin">

    <?php $this->load->view('template/navbar'); ?>


    <div class="main-container ace-save-state" id="main-container">
        <script type="text/javascript">
            try {
                ace.settings.loadState('main-container')
            } catch (e) {}
        </script>


        <?php $this->load->view('template/sidebar'); ?>



        <div class="main-content">
            <div class="main-content-inner">
                <?php echo $main_view; ?>
            </div>
        </div><!-- /.main-content -->

        <div class="footer">
            <div class="footer-inner">
                <div class="footer-content">
                    <span class="action-buttons">
                        <a href="#"><i class="ace-icon fa fa-coffee light-blue bigger-150"></i></a>
                    </span>
                    <span class="bigger-120">PBB.<span class="blue bolder">Pemkab</span> &copy; 2020</span>
                    <span class="action-buttons">
                        <a href="#"><i class="ace-icon fa fa-coffee light-blue bigger-150"></i></a>
                    </span>
                </div>
            </div>
        </div>
        <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
            <i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
        </a>

        <!-- Bootstrap profil -->
        <div class="modal fade" id="modal_pass" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">

                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h3 class="modal-title">Data Profile</h3>
                    </div>

                    <div class="modal-body form">
                        <form action="#" id="form_pass" enctype="multipart/form-data" class="form-horizontal">
                            <input type="hidden" value="" name="id" />
                            <div class="form-body">

                                <div id="pesan"></div>

                                <input type="hidden" value="" name="id_pass" />

                                <div class="form-group">
                                    <label class="control-label col-md-3">Nama Petugas</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control input-sm" id="namag" name="namag" placeholder="Nama" />
                                        <span class="help-block"></span>
                                    </div>

                                </div>


                                <div class="form-group">
                                    <label class="control-label col-md-3">Username</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control input-sm" id="usernameg" name="usernameg" />
                                        <span class="help-block"></span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-3">Password</label>
                                    <div class="col-md-9">
                                        <input type="password" name="passg" id="passg" class="form-control input-sm" Placeholder="Password...." required="required">
                                        <span class="help-block"></span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-3">Password Konfirmasi</label>
                                    <div class="col-md-9">
                                        <input type="password" name="passlg" id="passlg" class="form-control input-sm" Placeholder="Password...." required="required">
                                        <span class="help-block"></span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-3">Email</label>
                                    <div class="col-md-9">
                                        <input type="email" class="form-control input-sm" id="email_mitra" name="email_mitra" />
                                        <span class="help-block"></span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="control-label col-md-3">No HP</label>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control input-sm" id="nohp_mitra" name="nohp_mitra" />
                                        <span class="help-block"></span>
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="control-label col-md-3">Foto Profile</label>
                                    <div class="col-md-9">
                                        <input type="hidden" class="form-control" id="iddoc" name="iddoc">
                                        <span class="label label-danger"> *.jpg/*.png (Max. 2MB, Minimal. 160x160 pixel) </span>
                                        <input type="file" name="user_filefoto" id="user_filefoto" size="100" />
                                        <span class="help-block"></span>
                                    </div>
                                </div>


                            </div>
                        </form>
                    </div>

                    <div class="modal-footer">
                        <button type="button" id="btn_pass" onclick="save_pass()" class="btn btn-primary">Save</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    </div>

                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <!-- End Bootstrap profile -->


        <!--</div><!-- /.main-container -->

        <!-- basic scripts -->

        <!--[if !IE]> -->
        <script src="<?php echo base_url('ace-master/assets/js/jquery-2.1.4.min.js') ?>"></script>

        <!-- <![endif]-->

        <!--[if IE]>
<script src="assets/js/jquery-1.11.3.min.js"></script>
<![endif]-->
        <!--		<script type="text/javascript">
			if('ontouchstart' in document.documentElement) document.write("<script src='<?php echo base_url('ace-master/assets/js/jquery.mobile.custom.min.js') ?>'>"+"<"+"/script>");
		</script>
-->
        <script type="text/javascript">
            if ('ontouchstart' in document.documentElement) document.write("<script src='ace-master/assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
        </script>


        <script src="<?php echo base_url('ace-master/assets/js/bootstrap.min.js') ?>"></script>
        <!-- ace scripts -->
        <script src="<?php echo base_url('ace-master/assets/js/ace-elements.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/ace.min.js') ?>"></script>

        <!-- page specific plugin scripts -->
        <script src="<?php echo base_url('ace-master/assets/js/jquery.colorbox.min.js') ?>"></script>

        <!--[if lte IE 8]>
		  <script src="assets/js/excanvas.min.js"></script>
		<![endif]-->

        <!-- page specific plugin scripts -->
        <script src="<?php echo base_url('ace-master/assets/js/jquery.dataTables.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/jquery.dataTables.bootstrap.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/dataTables.buttons.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/select2.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/buttons.flash.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/buttons.html5.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/buttons.print.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/buttons.colVis.min.js') ?>"></script>
        <!--		<script src="<?php echo base_url('ace-master/assets/js/dataTables.select.min.js') ?>"></script>-->
        <script src="<?php echo base_url('ace-master/assets/js/spinbox.min.js') ?>"></script>


        <script src="<?php echo base_url('ace-master/assets/js/jquery-ui.custom.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/jquery.ui.touch-punch.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/chosen.jquery.min.js') ?>"></script>

        <script src="<?php echo base_url('ace-master/assets/js/jquery.easypiechart.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/jquery.sparkline.index.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/jquery.flot.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/jquery.flot.pie.min.js') ?>"></script>
        <script src="<?php echo base_url('ace-master/assets/js/jquery.flot.resize.min.js') ?>"></script>

        <script src="<?php echo base_url('ace-master/assets/js/bootbox.js') ?>"></script>


        <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

        <!-- DataTables -->
        <!--<script src="https://code.jquery.com/jquery-3.3.1.js"></script>--->
        <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>
        <!--<script src="<?php echo base_url('adminlte/plugins/datatables/dataTables.bootstrap.min.js') ?>"></script>-->
        <script src="https://cdn.datatables.net/rowreorder/1.2.3/js/dataTables.rowReorder.min.js"></script>
        <script src="https://cdn.datatables.net/responsive/2.2.1/js/dataTables.responsive.min.js"></script>
        <!-- Morris.js charts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
        <script src="<?php echo base_url('adminlte/plugins/morris/morris.min.js') ?>"></script>
        <script src="https://cdn.ckeditor.com/4.12.1/standard/ckeditor.js"></script>

        <!-- datepicker -->
        <script src="<?php echo base_url('assets/bootstrap-datepicker/js/bootstrap-datepicker.js'); ?>"></script>
        <!-- ! -->

        <script type="text/javascript">
            $('[data-rel=tooltip]').tooltip();
            $('[data-rel=popover]').popover({
                html: true
            });
            $('#modal-wizard-container').ace_wizard();
            $('#modal-wizard .wizard-actions .btn[data-dismiss=modal]').removeAttr('disabled');
        </script>

        <!-- inline scripts related to this page -->
        <script type="text/javascript">
            jQuery(function($) {
                var $overflow = '';
                var colorbox_params = {
                    rel: 'colorbox',
                    reposition: true,
                    scalePhotos: true,
                    scrolling: false,
                    previous: '<i class="ace-icon fa fa-arrow-left"></i>',
                    next: '<i class="ace-icon fa fa-arrow-right"></i>',
                    close: '&times;',
                    current: '{current} of {total}',
                    maxWidth: '100%',
                    maxHeight: '100%',
                    onOpen: function() {
                        $overflow = document.body.style.overflow;
                        document.body.style.overflow = 'hidden';
                    },
                    onClosed: function() {
                        document.body.style.overflow = $overflow;
                    },
                    onComplete: function() {
                        $.colorbox.resize();
                    }
                };

                $('.ace-thumbnails [data-rel="colorbox"]').colorbox(colorbox_params);
                $("#cboxLoadingGraphic").html("<i class='ace-icon fa fa-spinner orange fa-spin'></i>"); //let's add a custom loading icon
                $('.select2').css('width', '200px').select2({
                    allowClear: true
                })
                $('#spinner1').ace_spinner({
                    value: 0,
                    min: 0,
                    max: 100,
                    step: 1,
                    btn_up_class: 'btn-info',
                    btn_down_class: 'btn-info'
                })

                $(document).one('ajaxloadstart.page', function(e) {
                    $('#colorbox, #cboxOverlay').remove();
                    $('[class*=select2]').remove();
                });


                $('#myTab a[data-toggle="tab"]').on('shown.bs.tab', function(e) {
                    //if($(e.target).attr('href') == "#home") doSomethingNow();
                })

            })
        </script>

        <!--<script type="text/javascript">
$(function () {
	CKEDITOR.replace('ckeditor');
});
</script>
-->

        <script type="text/javascript">
            jQuery(function($) {

                if (!ace.vars['touch']) {
                    $('.chosen-select').chosen({
                        allow_single_deselect: true
                    });
                    //resize the chosen on window resize
                    $(window)
                        .off('resize.chosen')

                        .on('resize.chosen', function() {
                            $('.chosen-select').each(function() {
                                var $this = $(this);
                                $this.next().css({
                                    'width': $this.parent().width()
                                });
                            })
                        }).trigger('resize.chosen');

                    //resize chosen on sidebar collapse/expand
                    $(document).on('settings.ace.chosen', function(e, event_name, event_val) {
                        if (event_name != 'sidebar_collapsed') return;
                        $('.chosen-select').each(function() {
                            var $this = $(this);
                            $this.next().css({
                                'width': $this.parent().width()
                            });
                        })
                    });


                }

            });
        </script>

<script>
 $('#datepicker').datepicker({
 format: "yyyy-mm-dd",
      autoclose: true
    });
</script>


<script type="text/javascript">
	//jika dipilih, kode skpd akan masuk ke input dan modal di tutup
	$(document).on('click', '.pilih', function (e) {
		document.getElementById("namaprov").value = $(this).attr('data-namaprov');
		document.getElementById("idprov").value = $(this).attr('data-idprov');
		//$('#modal_masuk').modal('show'); // show bootstrap modal
		$('#myModal').modal('hide');
	});

	//tabel lookup 
	$(function () {
		$("#lookup_prov").dataTable();
	});

</script>

<script type="text/javascript">
    $(document).on('click', '.pilih2', function (e) {
        document.getElementById("namakab").value = $(this).attr('data-namakab');
        document.getElementById("idkab").value = $(this).attr('data-idkab');
        //$('#modal_masuk').modal('show'); // show bootstrap modal
        $('#myModal2').modal('hide');
    });

    $(function () {
        $("#lookup_kab").dataTable();
    });
</script>

<script type="text/javascript">
    $(document).on('click', '.pilih3', function (e) {
        document.getElementById("namakec").value = $(this).attr('data-namakec');
        document.getElementById("idkec").value = $(this).attr('data-idkec');
        //$('#modal_masuk').modal('show'); // show bootstrap modal
        $('#myModal3').modal('hide');
    });

    //tabel lookup 
    $(function () {
        $("#lookup_kec").dataTable();
    });
</script>

<script>
    $('#myModal').on('hidden.bs.modal', function (e) {

      $('body').addClass('modal-open');

    });

    $('#myModal2').on('hidden.bs.modal', function (e) {

      $('body').addClass('modal-open');

    });

    $('#myModal3').on('hidden.bs.modal', function (e) {

      $('body').addClass('modal-open');

    });
</script>



        <!-- Bayar/Pembayaran -->
        <script type="text/javascript">
            var table_bayar;

            $(document).ready(function() {

                //datatables
                table = $('#table_bayar').DataTable({

                    "processing": true, //Feature control the processing indicator.
                    "serverSide": true, //Feature control DataTables' server-side processing mode.
                    "order": [], //Initial no order.
                    "rowReorder": {
                        "selector": "td:nth-child(2)"
                    },
                    "responsive": true,
                    // Load data for the table's content from an Ajax source
                    "ajax": {
                        "url": "<?php echo site_url('data_bayar/ajax_list') ?>",
                        "type": "POST"

                    },

                    //Set column definition initialisation properties.
                    "columnDefs": [

                        //            { "responsivePriority": 1, "targets": [ 0 ] },
                        //            { "responsivePriority": 2, "targets": [ 2 ] },
                        //            { "responsivePriority": 3, "targets": [ 8 ] },
                        {
                            "targets": [-1], //last column
                            "orderable": false, //set not orderable
                        },
                    ],

                });


            });

            function reload_table_bayar() {

                $('#table_bayar').DataTable().ajax.reload();

            }
        </script>

        <!-- Data Logs -->
        <script type="text/javascript">
            var table_datalogs;

            $(document).ready(function() {

                //datatables
                table = $('#table_datalogs').DataTable({

                    "processing": true, //Feature control the processing indicator.
                    "serverSide": true, //Feature control DataTables' server-side processing mode.
                    "order": [], //Initial no order.
                    "rowReorder": {
                        "selector": "td:nth-child(2)"
                    },
                    "responsive": true,
                    // Load data for the table's content from an Ajax source
                    "ajax": {
                        "url": "<?php echo site_url('data_logs/ajax_list') ?>",
                        "type": "POST"

                    },

                    //Set column definition initialisation properties.
                    "columnDefs": [

                        //            { "responsivePriority": 1, "targets": [ 0 ] },
                        //            { "responsivePriority": 2, "targets": [ 2 ] },
                        //            { "responsivePriority": 3, "targets": [ 8 ] },

                        {
                            "targets": [-1], //last column
                            "orderable": false, //set not orderable
                        },
                    ],

                });



            });

            function reload_table_datalogs() {

                $('#table_datalogs').DataTable().ajax.reload();

            }
        </script>


        <!-- API Key -->
        <script type="text/javascript">
            var save_bank_method; //for save method string
            var table_bank;

            $(document).ready(function() {

                //datatables
                table = $('#table_databank').DataTable({

                    "processing": true, //Feature control the processing indicator.
                    "serverSide": true, //Feature control DataTables' server-side processing mode.
                    "order": [], //Initial no order.
                    "rowReorder": {
                        "selector": "td:nth-child(2)"
                    },
                    "responsive": true,
                    // Load data for the table's content from an Ajax source
                    "ajax": {
                        "url": "<?php echo site_url('data_bank/ajax_list') ?>",
                        "type": "POST"

                    },

                    //Set column definition initialisation properties.
                    "columnDefs": [

                        //            { "responsivePriority": 1, "targets": [ 0 ] },
                        //            { "responsivePriority": 2, "targets": [ 2 ] },
                        //            { "responsivePriority": 3, "targets": [ 8 ] },

                        {
                            "targets": [-1], //last column
                            "orderable": false, //set not orderable
                        },
                    ],

                });



            });

            function reload_table_bank() {

                $('#table_databank').DataTable().ajax.reload();

            }

            function add_bank() {
                save_bank_method = 'add';
                $('#form_bank')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string
                $('#modal_bank').modal('show'); // show bootstrap modal
                $('.modal-title').text('Add Master Bank'); // Set Title to Bootstrap modal title
            }

            function save_bank() {
                $('#btn_bank').text('saving...'); //change button text
                $('#btn_bank').attr('disabled', true); //set button disable 
                var url;

                if (save_bank_method == 'add') {
                    url = "<?php echo site_url('data_bank/ajax_add') ?>";
                } else {
                    url = "<?php echo site_url('data_bank/ajax_update') ?>";
                }


                // ajax adding data to database
                $.ajax({
                    url: url,
                    type: "POST",
                    data: $('#form_bank').serialize(),
                    dataType: "JSON",
                    success: function(data) {

                        if (data.status === false) {
                            swal({
                                title: "Error!",
                                text: (data.kliru),
                                icon: "warning",
                            });
                            $('#btn_bank').text('Save'); //change button text
                            $('#btn_bank').attr('disabled', false); //set button enable 
                        } else {
                            $('#modal_bank').modal('hide');
                            swal({
                                title: "Good job!",
                                text: (data.kliru),
                                icon: "success",
                            });
                            reload_table_bank();

                        }
                        $('#btn_bank').text('Save'); //change button text
                        $('#btn_bank').attr('disabled', false); //set button enable 


                    }
                });
            }


            function edit_bank(id) {
                save_bank_method = 'update';
                $('#form_bank')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string

                //Ajax Load data from ajax
                $.ajax({
                    url: "<?php echo site_url('data_bank/ajax_edit/') ?>/" + id,
                    type: "GET",
                    dataType: "JSON",
                    success: function(data) {
                        //var checked_option_radio = $('input:radio[name=status]:checked').val();

                        $('[name="id"]').val(data.id);
                        $('[name="bank"]').val(data.bank);
                        $('#modal_bank').modal('show'); // show bootstrap modal when complete loaded
                        $('.modal-title').text('Edit Master Bank'); // Set title to Bootstrap modal title

                    },
                    error: function(jqXHR, textStatus, errorThrown) {
                        alert('Error get data from ajax');
                    }
                });
            }
        </script>
        <!-- API Key -->

        <!--Daftar PBB -->
        <script type="text/javascript">
            var save_pbb_method; //for save method string
            var table_pbb;

            $(document).ready(function() {

                //datatables
                table = $('#table_pbb').DataTable({

                    "processing": true, //Feature control the processing indicator.
                    "serverSide": true, //Feature control DataTables' server-side processing mode.
                    "order": [], //Initial no order.
                    "rowReorder": {
                        "selector": "td:nth-child(2)"
                    },
                    "responsive": true,
                    // Load data for the table's content from an Ajax source
                    "ajax": {
                        "url": "<?php echo site_url('data_pbb/ajax_list') ?>",
                        "type": "POST"

                    },

                    //Set column definition initialisation properties.
                    "columnDefs": [


                        {
                            "targets": [-1], //last column
                            "orderable": false, //set not orderable
                        },
                    ],

                });



            });

            function reload_table_pbb() {

                $('#table_pbb').DataTable().ajax.reload();

            }
        </script>
        <!--Daftar PBB -->


        <!--Master User -->
        <script type="text/javascript">
            var save_user_method; //for save method string
            var table_user;

            $(document).ready(function() {

                //datatables
                table = $('#table_user').DataTable({

                    "processing": true, //Feature control the processing indicator.
                    "serverSide": true, //Feature control DataTables' server-side processing mode.
                    "order": [], //Initial no order.
                    "rowReorder": {
                        "selector": "td:nth-child(2)"
                    },
                    "responsive": true,
                    // Load data for the table's content from an Ajax source
                    "ajax": {
                        "url": "<?php echo site_url('data_user/ajax_list') ?>",
                        "type": "POST"
                    },

                    //Set column definition initialisation properties.
                    "columnDefs": [

                        //            { "responsivePriority": 1, "targets": [ 0 ] },
                        //          { "responsivePriority": 2, "targets": [ 2 ] },
                        //        { "responsivePriority": 3, "targets": [ 5 ] },
                        {
                            "targets": [-1], //last column
                            "orderable": false, //set not orderable
                        },
                    ],

                });

            });

            function reload_table_user() {

                $('#table_user').DataTable().ajax.reload();

            }

            function add_user() {
                save_user_method = 'add';
                $('#form_user')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string
                $('#modal_user').modal('show'); // show bootstrap modal
                $('.modal-title').text('Add Master User'); // Set Title to Bootstrap modal title
            }

            function save_user() {
                $('#btn_user').text('saving...'); //change button text
                $('#btn_user').attr('disabled', true); //set button disable 
                var url;

                if (save_user_method == 'add') {
                    url = "<?php echo site_url('data_user/ajax_add') ?>";
                } else {
                    url = "<?php echo site_url('data_user/ajax_update') ?>";
                }

                // ajax adding data to database
                $.ajax({
                    url: url,
                    type: "POST",
                    data: $('#form_user').serialize(),
                    dataType: "JSON",
                    success: function(data) {

                        if (data.status === false) {
                            swal({
                                title: "Error!",
                                text: (data.kliru),
                                icon: "warning",
                            });
                            $('#btn_user').text('Save'); //change button text
                            $('#btn_user').attr('disabled', false); //set button enable 
                        } else {
                            $('#modal_user').modal('hide');
                            swal({
                                title: "Good job!",
                                text: (data.kliru),
                                icon: "success",
                            });
                            reload_table_user();

                        }
                        $('#btn_user').text('Save'); //change button text
                        $('#btn_user').attr('disabled', false); //set button enable 


                    }
                });
            }

            function edit_user(id) {
                save_user_method = 'update';
                $('#form_user')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string

                //Ajax Load data from ajax
                $.ajax({
                    url: "<?php echo site_url('data_user/ajax_edit/') ?>/" + id,
                    type: "GET",
                    dataType: "JSON",
                    success: function(data) {
                        //var checked_option_radio = $('input:radio[name=status]:checked').val();

                        $('[name="id"]').val(data.id);
                        $('[name="nama"]').val(data.nama_petugas);
                        $('[name="uname"]').val(data.username);
                        $('[name="uname"]').attr('readonly', 'readonly');
                        $('#modal_user').modal('show'); // show bootstrap modal when complete loaded
                        $('.modal-title').text('Reset Password'); // Set title to Bootstrap modal title

                    },
                    error: function(jqXHR, textStatus, errorThrown) {
                        alert('Error get data from ajax');
                    }
                });
            }



            function edit_pass(id) {
                $('#form_pass')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string

                //Ajax Load data from ajax
                $.ajax({
                    url: "<?php echo site_url('user/ajax_editpass') ?>/" + id,
                    type: "GET",
                    dataType: "JSON",
                    success: function(data) {
                        $('[name="id_pass"]').val(data.id);
                        $('[name="namag"]').val(data.nama_petugas);
                        $('[name="usernameg"]').val(data.username);
                        $('[name="email_mitra"]').val(data.email);
                        $('[name="nohp_mitra"]').val(data.nohp);
                        $('[name="usernameg"]').attr('readonly', 'readonly');
                        $('#modal_pass').modal('show'); // show bootstrap modal when complete loaded
                        $('.modal-title').text('Edit Password'); // Set title to Bootstrap modal title
                        swal({
                            title: "Info",
                            text: "Kosongkan Password jika tidak ingin mengganti!",
                            icon: "info",
                        });

                    },
                    error: function(jqXHR, textStatus, errorThrown) {
                        alert('Error get data from ajax');
                    }
                });
            }

            function save_pass() {
                $('#btn_pass').text('Saving...'); //change button text
                $('#btn_pass').attr('disabled', true); //set button disable 
                var url;
                var form1 = $('#form_pass')[0];
                var data = new FormData(form1);
                url = "<?php echo site_url('user/ajax_updatepass') ?>";



                // ajax adding data to database
                $.ajax({
                    url: url,
                    type: "POST",
                    enctype: 'multipart/form-data',
                    data: data,
                    processData: false,
                    contentType: false,
                    cache: false,
                    timeout: 600000,
                    dataType: "JSON",
                    success: function(data) {

                        if (data.status === false) {
                            swal({
                                title: "Error!",
                                text: (data.kliru), //"Error GTK!",
                                icon: "warning",
                            });
                            $('#btn_pass').text('Save'); //change button text
                            $('#btn_pass').attr('disabled', false); //set button enable 

                        } else {
                            $('#modal_pass').modal('hide');
                            swal({
                                title: "Good job!",
                                text: (data.kliru), //"Error GTK!",
                                icon: "success",
                            });

                        }

                        $('#btn_pass').text('Save'); //change button text
                        $('#btn_pass').attr('disabled', false); //set button enable 


                    }
                });
            }
        </script>
        <!--Master User -->

        <!--Master Povinsi -->
        <script type="text/javascript">
            var save_prov_method; //for save method string
            var table_prov;

            $(document).ready(function() {

                //datatables
                table = $('#table_prov').DataTable({

                    "processing": true, //Feature control the processing indicator.
                    "serverSide": true, //Feature control DataTables' server-side processing mode.
                    "order": [], //Initial no order.
                    "rowReorder": {
                        "selector": "td:nth-child(2)"
                    },
                    "responsive": true,
                    // Load data for the table's content from an Ajax source
                    "ajax": {
                        "url": "<?php echo site_url('provinsi/ajax_list') ?>",
                        "type": "POST"
                    },

                    //Set column definition initialisation properties.
                    "columnDefs": [

                        //            { "responsivePriority": 1, "targets": [ 0 ] },
                        //          { "responsivePriority": 2, "targets": [ 2 ] },
                        //        { "responsivePriority": 3, "targets": [ 5 ] },
                        {
                            "targets": [-1], //last column
                            "orderable": false, //set not orderable
                        },
                    ],

                });

                $('#btn-filterus').click(function() { //button filter event click
                    reload_table_prov(); //just reload table
                });
                $('#btn-resetus').click(function() { //button reset event click
                    $('#form-filterus')[0].reset();
                    reload_table_prov(); //just reload table
                });


            });

            function reload_table_prov() {

                $('#table_prov').DataTable().ajax.reload();

            }

            function add_prov() {
                save_prov_method = 'add';
                $('#form_prov')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string
                $('#modal_prov').modal('show'); // show bootstrap modal
                $('.modal-title').text('Add Master Provinsi'); // Set Title to Bootstrap modal title
            }

            function save_prov() {
                $('#btn_prov').text('saving...'); //change button text
                $('#btn_prov').attr('disabled', true); //set button disable 
                var url;

                if (save_prov_method == 'add') {
                    url = "<?php echo site_url('provinsi/ajax_add') ?>";
                } else {
                    url = "<?php echo site_url('provinsi/ajax_update') ?>";
                }

                // ajax adding data to database
                $.ajax({
                    url: url,
                    type: "POST",
                    data: $('#form_prov').serialize(),
                    dataType: "JSON",
                    success: function(data) {

                        if (data.status === false) {
                            swal({
                                title: "Error!",
                                text: (data.kliru),
                                icon: "warning",
                            });
                            $('#btn_prov').text('Save'); //change button text
                            $('#btn_prov').attr('disabled', false); //set button enable 
                        } else {
                            $('#modal_prov').modal('hide');
                            swal({
                                title: "Good job!",
                                text: (data.kliru),
                                icon: "success",
                            });
                            reload_table_prov();

                        }
                        $('#btn_prov').text('Save'); //change button text
                        $('#btn_prov').attr('disabled', false); //set button enable 
                    }
                });
            }

            function edit_prov(id) {
                save_prov_method = 'update';
                $('#form_prov')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string

                //Ajax Load data from ajax
                $.ajax({
                    url: "<?php echo site_url('provinsi/ajax_edit/') ?>/" + id,
                    type: "GET",
                    dataType: "JSON",
                    success: function(data) {
                        //var checked_option_radio = $('input:radio[name=status]:checked').val();

                        $('[name="id"]').val(data.id);
                        $('[name="kd_prov"]').val(data.kd_provinsi);
                        $('[name="nama"]').val(data.nama_prov);
                        // $('[name="uname"]').attr('readonly', 'readonly');
                        $('#modal_prov').modal('show'); // show bootstrap modal when complete loaded
                        $('.modal-title').text('Edit Master Provinsi'); // Set title to Bootstrap modal title

                    },
                    error: function(jqXHR, textStatus, errorThrown) {
                        alert('Error get data from ajax');
                    }
                });
            }



            function edit_pass(id) {
                $('#form_pass')[0].reset(); // reset form on modals
                $('.form-group').removeClass('has-error'); // clear error class
                $('.help-block').empty(); // clear error string

                //Ajax Load data from ajax
                $.ajax({
                    url: "<?php echo site_url('user/ajax_editpass') ?>/" + id,
                    type: "GET",
                    dataType: "JSON",
                    success: function(data) {
                        $('[name="id_pass"]').val(data.id);
                        $('[name="namag"]').val(data.nama_petugas);
                        $('[name="usernameg"]').val(data.username);
                        $('[name="email_mitra"]').val(data.email);
                        $('[name="nohp_mitra"]').val(data.nohp);
                        $('[name="usernameg"]').attr('readonly', 'readonly');
                        $('#modal_pass').modal('show'); // show bootstrap modal when complete loaded
                        $('.modal-title').text('Edit Password'); // Set title to Bootstrap modal title
                        swal({
                            title: "Info",
                            text: "Kosongkan Password jika tidak ingin mengganti!",
                            icon: "info",
                        });

                    },
                    error: function(jqXHR, textStatus, errorThrown) {
                        alert('Error get data from ajax');
                    }
                });
            }

            function save_pass() {
                $('#btn_pass').text('Saving...'); //change button text
                $('#btn_pass').attr('disabled', true); //set button disable 
                var url;
                var form1 = $('#form_pass')[0];
                var data = new FormData(form1);
                url = "<?php echo site_url('user/ajax_updatepass') ?>";



                // ajax adding data to database
                $.ajax({
                    url: url,
                    type: "POST",
                    enctype: 'multipart/form-data',
                    data: data,
                    processData: false,
                    contentType: false,
                    cache: false,
                    timeout: 600000,
                    dataType: "JSON",
                    success: function(data) {

                        if (data.status === false) {
                            swal({
                                title: "Error!",
                                text: (data.kliru), //"Error GTK!",
                                icon: "warning",
                            });
                            $('#btn_pass').text('Save'); //change button text
                            $('#btn_pass').attr('disabled', false); //set button enable 

                        } else {
                            $('#modal_pass').modal('hide');
                            swal({
                                title: "Good job!",
                                text: (data.kliru), //"Error GTK!",
                                icon: "success",
                            });

                        }

                        $('#btn_pass').text('Save'); //change button text
                        $('#btn_pass').attr('disabled', false); //set button enable 


                    }
                });
            }
        </script>
        <!--Master Provinsi -->

<!--Kab-->
<script type="text/javascript">

var save_kab_method; //for save method string
var table_kota;

$(document).ready(function() {

    //datatables
    table = $('#table_kota').DataTable({ 

        "processing": true, //Feature control the processing indicator.
        "serverSide": true, //Feature control DataTables' server-side processing mode.
        "order": [], //Initial no order.
        "rowReorder": {
            		"selector": "td:nth-child(2)"
			},
	   "responsive": true,
        // Load data for the table's content from an Ajax source
        "ajax": {
            "url": "<?php echo site_url('dati/ajax_list')?>",
            "type": "POST"

        },

        //Set column definition initialisation properties.
        "columnDefs": [
        { 
            "targets": [ -1 ], //last column
            "orderable": false, //set not orderable
        },
        ],
		
    });

});


function reload_table_kota()
{
$('#table_kota').DataTable().ajax.reload();
}


function add_kota()
{
    save_kab_method = 'add';
    $('#form_kota')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string
    $('#modal_kota').modal('show'); // show bootstrap modal
    $('.modal-title').text('Add Kota/Kab.'); // Set Title to Bootstrap modal title
}


function save_kota()
{
    $('#btn_kota').text('saving...'); //change button text
    $('#btn_kota').attr('disabled',true); //set button disable 
    var url;

    if(save_kab_method == 'add') {
        url = "<?php echo site_url('dati/ajax_add')?>";
    } else {
        url = "<?php echo site_url('dati/ajax_update')?>";
    }

    // ajax adding data to database
    $.ajax({
        url : url,
        type: "POST",
        data: $('#form_kota').serialize(),
        dataType: "JSON",
        success: function(data)
        {

            //if(data.status) //if success close modal and reload ajax table
            //{
 	if (data.status===false) {
	  //$('#modal_kota').modal('hide');
		swal({
		  title: "Error!",
		  text: (data.kliru),//"Error GTK!",
		  icon: "warning",
		});
            $('#btn_kota').text('save'); //change button text
            $('#btn_kota').attr('disabled',false); //set button enable 
	}else{
                $('#modal_kota').modal('hide');
		swal({
		  title: "Good job!",
		  text: "Data Added/Updated!",
		  icon: "success",
		});
                reload_table_kota();

            }
            $('#btn_kota').text('Save'); //change button text
            $('#btn_kota').attr('disabled',false); //set button enable 


        }
    });
}

function edit_kab(id)
{
    save_kab_method = 'update';
    $('#form_kota')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string

    //Ajax Load data from ajax
    $.ajax({
        url : "<?php echo site_url('dati/ajax_edit/')?>/" + id,
        type: "GET",
        dataType: "JSON",
        success: function(data)
        {
	//var checked_option_radio = $('input:radio[name=status]:checked').val();

            $('[name="id"]').val(data.id);
            $('[name="nama"]').val(data.kota);
            $('[name="kd_dati"]').val(data.kd_dati2);
            $('[name="namaprov"]').val(data.nama_prov);
            $('[name="idprov"]').val(data.id_prov);
            $('#modal_kota').modal('show'); // show bootstrap modal when complete loaded
            $('.modal-title').text('Edit Kota/Kab'); // Set title to Bootstrap modal title
        },
        error: function (jqXHR, textStatus, errorThrown)
        {
            alert('Error get data from ajax');
        }
    });
}


</script>
<!--Kab -->


<!--Kecamatan-->
<script type="text/javascript">

var save_keca_method; //for save method string
var table_keca;

$(document).ready(function() {

    //datatables
    table = $('#table_keca').DataTable({ 

        "processing": true, //Feature control the processing indicator.
        "serverSide": true, //Feature control DataTables' server-side processing mode.
        "order": [], //Initial no order.
        "rowReorder": {
                    "selector": "td:nth-child(2)"
            },
        "responsive": true,
        // Load data for the table's content from an Ajax source
        "ajax": {
            "url": "<?php echo site_url('kecamatan/ajax_list')?>",
            "type": "POST"

        },

        //Set column definition initialisation properties.
        "columnDefs": [
        { 
            "targets": [ -1 ], //last column
            "orderable": false, //set not orderable
        },
        ],
        
    });

});


function reload_table_keca()
{
$('#table_keca').DataTable().ajax.reload();
}


function add_keca()
{
    save_keca_method = 'add';
    $('#form_keca')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string
    $('#modal_keca').modal('show'); // show bootstrap modal
    $('.modal-title').text('Add Kecamatan'); // Set Title to Bootstrap modal title
}


function save_keca()
{
    $('#btn_keca').text('saving...'); //change button text
    $('#btn_keca').attr('disabled',true); //set button disable 
    var url;

    if(save_keca_method == 'add') {
        url = "<?php echo site_url('kecamatan/ajax_add')?>";
    } else {
        url = "<?php echo site_url('kecamatan/ajax_update')?>";
    }

    // ajax adding data to database
    $.ajax({
        url : url,
        type: "POST",
        data: $('#form_keca').serialize(),
        dataType: "JSON",
        success: function(data)
        {
            //if(data.status) //if success close modal and reload ajax table
            //{
    if (data.status===false) {
      //$('#modal_kota').modal('hide');
        swal({
          title: "Error!",
          text: (data.kliru),//"Error GTK!",
          icon: "warning",
        });
            $('#btn_keca').text('save'); //change button text
            $('#btn_keca').attr('disabled',false); //set button enable 
    }else{
                $('#modal_keca').modal('hide');
        swal({
          title: "Good job!",
          text: "Data Added/Updated!",
          icon: "success",
        });
                reload_table_keca();

            }
            $('#btn_keca').text('Save'); //change button text
            $('#btn_keca').attr('disabled',false); //set button enable 

        }
    });
}

function edit_keca(id)
{
    save_keca_method = 'update';
    $('#form_keca')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string

    //Ajax Load data from ajax
    $.ajax({
        url : "<?php echo site_url('kecamatan/ajax_edit/')?>/" + id,
        type: "GET",
        dataType: "JSON",
        success: function(data)
        {
    //var checked_option_radio = $('input:radio[name=status]:checked').val();

            $('[name="id"]').val(data.id);
            $('[name="kd_keca"]').val(data.kd_kecamatan);
            $('[name="nama"]').val(data.nama_kec);
            $('[name="namakab"]').val(data.kota);
            $('[name="idkab"]').val(data.id_kota);
            $('#modal_keca').modal('show'); // show bootstrap modal when complete loaded
            $('.modal-title').text('Edit Kecamatan'); // Set title to Bootstrap modal title
        },
        error: function (jqXHR, textStatus, errorThrown)
        {
            alert('Error get data from ajax');
        }
    });
}
</script>
<!--Kecamatan -->

<!--Kelurahan/Desa-->
<script type="text/javascript">

var save_kelu_method; //for save method string
var table_kelu;

$(document).ready(function() {

    //datatables
    table = $('#table_kelu').DataTable({ 

        "processing": true, //Feature control the processing indicator.
        "serverSide": true, //Feature control DataTables' server-side processing mode.
        "order": [], //Initial no order.
        "rowReorder": {
                    "selector": "td:nth-child(2)"
            },
        "responsive": true,
        // Load data for the table's content from an Ajax source
        "ajax": {
            "url": "<?php echo site_url('kelurahan/ajax_list')?>",
            "type": "POST"

        },

        //Set column definition initialisation properties.
        "columnDefs": [
        { 
            "targets": [ -1 ], //last column
            "orderable": false, //set not orderable
        },
        ],
        
    });

});


function reload_table_kelu()
{
    $('#table_kelu').DataTable().ajax.reload();
}


function add_kelu()
{
    save_kelu_method = 'add';
    $('#form_kelu')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string
    $('#modal_kelu').modal('show'); // show bootstrap modal
    $('.modal-title').text('Add Desa/Kelurahan'); // Set Title to Bootstrap modal title
}


function save_kelu()
{
    $('#btn_kelu').text('saving...'); //change button text
    $('#btn_kelu').attr('disabled',true); //set button disable 
    var url;

    if(save_kelu_method == 'add') {
        url = "<?php echo site_url('kelurahan/ajax_add')?>";
    } else {
        url = "<?php echo site_url('kelurahan/ajax_update')?>";
    }

    // ajax adding data to database
    $.ajax({
        url : url,
        type: "POST",
        data: $('#form_kelu').serialize(),
        dataType: "JSON",
        success: function(data)
        {

    if (data.status===false) {

        swal({
          title: "Error!",
          text: (data.kliru),//"Error GTK!",
          icon: "warning",
        });
            $('#btn_kelu').text('save'); //change button text
            $('#btn_kelu').attr('disabled',false); //set button enable 
    }else{
                $('#modal_kelu').modal('hide');
        swal({
          title: "Good job!",
          text: "Data Added/Updated!",
          icon: "success",
        });
                reload_table_kelu();

            }
            $('#btn_kelu').text('Save'); //change button text
            $('#btn_kelu').attr('disabled',false); //set button enable 

        }
    });
}

function edit_kelu(id)
{
    save_kelu_method = 'update';
    $('#form_kelu')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string

    //Ajax Load data from ajax
    $.ajax({
        url : "<?php echo site_url('kelurahan/ajax_edit/')?>/" + id,
        type: "GET",
        dataType: "JSON",
        success: function(data)
        {
    //var checked_option_radio = $('input:radio[name=status]:checked').val();

            $('[name="id"]').val(data.id);
            $('[name="kd_kelu"]').val(data.kd_kelurahan);
            $('[name="nama"]').val(data.nama_kel);
            $('[name="namakec"]').val(data.nama_kec);
            $('[name="idkec"]').val(data.id_keca);
            $('#modal_kelu').modal('show'); // show bootstrap modal when complete loaded
            $('.modal-title').text('Edit Kelurahan'); // Set title to Bootstrap modal title
        },
        error: function (jqXHR, textStatus, errorThrown)
        {
            alert('Error get data from ajax');
        }
    });
}
</script>
<!--Kelurahan -->

<!--SPPT-->
<script type="text/javascript">

var save_spt_method; //for save method string
var table_spt;

$(document).ready(function() {

    //datatables
    table = $('#table_spt').DataTable({ 

        "processing": true, //Feature control the processing indicator.
        "serverSide": true, //Feature control DataTables' server-side processing mode.
        "order": [], //Initial no order.
        "rowReorder": {
                    "selector": "td:nth-child(2)"
            },
        "responsive": true,
        // Load data for the table's content from an Ajax source
        "ajax": {
            "url": "<?php echo site_url('data_sppt/ajax_list')?>",
            "type": "POST"

        },

        //Set column definition initialisation properties.
        "columnDefs": [
        { 
            "targets": [ -1 ], //last column
            "orderable": false, //set not orderable
        },
        ],
        
    });

});


function reload_table_spt()
{
    $('#table_spt').DataTable().ajax.reload();
}


function add_spt()
{
    save_spt_method = 'add';
    $('#form_spt')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string
    $('#modal_spt').modal('show'); // show bootstrap modal
    $('.modal-title').text('Add Data SPPT'); // Set Title to Bootstrap modal title
}


function save_spt()
{
    $('#btn_spt').text('saving...'); //change button text
    $('#btn_spt').attr('disabled',true); //set button disable 
    var url;

    if(save_spt_method == 'add') {
        url = "<?php echo site_url('data_sppt/ajax_add')?>";
    } else {
        url = "<?php echo site_url('data_sppt/ajax_update')?>";
    }

    // ajax adding data to database
    $.ajax({
        url : url,
        type: "POST",
        data: $('#form_spt').serialize(),
        dataType: "JSON",
        success: function(data)
        {

    if (data.status===false) {

        swal({
          title: "Error!",
          text: (data.kliru),//"Error GTK!",
          icon: "warning",
        });
            $('#btn_spt').text('save'); //change button text
            $('#btn_spt').attr('disabled',false); //set button enable 
    }else{
                $('#modal_spt').modal('hide');
        swal({
          title: "Good job!",
          text: "Data Added/Updated!",
          icon: "success",
        });
                reload_table_spt();

            }
            $('#btn_spt').text('Save'); //change button text
            $('#btn_spt').attr('disabled',false); //set button enable 

        }
    });
}

function edit_spt(id)
{
    save_spt_method = 'update';
    $('#form_spt')[0].reset(); // reset form on modals
    $('.form-group').removeClass('has-error'); // clear error class
    $('.help-block').empty(); // clear error string

    //Ajax Load data from ajax
    $.ajax({
        url : "<?php echo site_url('data_sppt/ajax_edit/')?>/" + id,
        type: "GET",
        dataType: "JSON",
        success: function(data)
        {
    //var checked_option_radio = $('input:radio[name=status]:checked').val();

            $('[name="id"]').val(data.id);
            $('[name="nop"]').val(data.nop);
            $('[name="nama"]').val(data.nama_wp);
            $('[name="thn"]').val(data.tahun);
            $('[name="blok"]').val(data.blok_no);
            $('[name="jln"]').val(data.jln_wp);
            $('[name="rt"]').val(data.rt);
            $('[name="rw"]').val(data.rw);
            $('[name="kel"]').val(data.kelurahan);
            $('[name="tgl_tempo"]').val(data.tgl_jatuh_tempo);
            $('[name="jml_tagihan"]').val(data.jml_tagihan);
//            $('[name="status"]').val(data.status_tagihan);
            $('#modal_spt').modal('show'); // show bootstrap modal when complete loaded
            $('.modal-title').text('Edit Data SPPT'); // Set title to Bootstrap modal title
        },
        error: function (jqXHR, textStatus, errorThrown)
        {
            alert('Error get data from ajax');
        }
    });
}
</script>
<!--SPPT -->

<!--Master Jenis OP -->
    <script type="text/javascript">
        var save_jnsop_method; //for save method string
        var table_jnsop;

        $(document).ready(function() {

            //datatables
            table = $('#table_jnsop').DataTable({

                "processing": true, //Feature control the processing indicator.
                "serverSide": true, //Feature control DataTables' server-side processing mode.
                "order": [], //Initial no order.
                "rowReorder": {
                "selector": "td:nth-child(2)"
                },
                "responsive": true,
                // Load data for the table's content from an Ajax source
                "ajax": {
                "url": "<?php echo site_url('jenisop/ajax_list') ?>",
                    "type": "POST"
                },

                //Set column definition initialisation properties.
                "columnDefs": [

                    {
                        "targets": [-1], //last column
                        "orderable": false, //set not orderable
                    },
                ],

            });

            $('#btn-filterus').click(function() { //button filter event click
                    reload_table_prov(); //just reload table
            });
            $('#btn-resetus').click(function() { //button reset event click
            $('#form-filterus')[0].reset();
                reload_table_prov(); //just reload table
            });

        });

        function reload_table_jnsop() {
            $('#table_jnsop').DataTable().ajax.reload();
        }

        function add_jnsop() {
            save_jnsop_method = 'add';
            $('#form_jnsop')[0].reset(); // reset form on modals
            $('.form-group').removeClass('has-error'); // clear error class
            $('.help-block').empty(); // clear error string
            $('#modal_jnsop').modal('show'); // show bootstrap modal
            $('.modal-title').text('Add Master Jenis OP'); // Set Title to Bootstrap modal title
        }

        function save_jnsop() {
            $('#btn_jnsop').text('saving...'); //change button text
            $('#btn_jnsop').attr('disabled', true); //set button disable 
            var url;

            if (save_jnsop_method == 'add') {
                url = "<?php echo site_url('jenisop/ajax_add') ?>";
            } else {
                url = "<?php echo site_url('jenisop/ajax_update') ?>";
            }

            // ajax adding data to database
            $.ajax({
                url: url,
                type: "POST",
                data: $('#form_jnsop').serialize(),
                dataType: "JSON",
                success: function(data) {

                    if (data.status === false) {
                        swal({
                            title: "Error!",
                            text: (data.kliru),
                            icon: "warning",
                        });
                        $('#btn_jnsop').text('Save'); //change button text
                        $('#btn_jnsop').attr('disabled', false); //set button enable 
                    } else {
                        $('#modal_jnsop').modal('hide');
                        swal({
                            title: "Good job!",
                            text: (data.kliru),
                            icon: "success",
                        });
                        reload_table_jnsop();

                    }
                    $('#btn_jnsop').text('Save'); //change button text
                    $('#btn_jnsop').attr('disabled', false); //set button enable 
                }
            });
        }

        function edit_jnsop(id) {
            save_jnsop_method = 'update';
            $('#form_jnsop')[0].reset(); // reset form on modals
            $('.form-group').removeClass('has-error'); // clear error class
            $('.help-block').empty(); // clear error string

            //Ajax Load data from ajax
            $.ajax({
                url: "<?php echo site_url('jenisop/ajax_edit/') ?>/" + id,
                type: "GET",
                dataType: "JSON",
                success: function(data) {
                    //var checked_option_radio = $('input:radio[name=status]:checked').val();

                    $('[name="id"]').val(data.id);
                    $('[name="kd_jns"]').val(data.kd_jns_op);
                        // $('[name="uname"]').attr('readonly', 'readonly');
                    $('#modal_jnsop').modal('show'); // show bootstrap modal when complete loaded
                    $('.modal-title').text('Edit Master Jenis OP'); // Set title to Bootstrap modal title

                },
                error: function(jqXHR, textStatus, errorThrown) {
                    alert('Error get data from ajax');
                }
            });
        }
    </script>
    <!--Master Jenis OP -->

<!--Master Blok -->
    <script type="text/javascript">
        var save_blok_method; //for save method string
        var table_blok;

        $(document).ready(function() {

            //datatables
            table = $('#table_blok').DataTable({

                "processing": true, //Feature control the processing indicator.
                "serverSide": true, //Feature control DataTables' server-side processing mode.
                "order": [], //Initial no order.
                "rowReorder": {
                "selector": "td:nth-child(2)"
                },
                "responsive": true,
                // Load data for the table's content from an Ajax source
                "ajax": {
                "url": "<?php echo site_url('blok/ajax_list') ?>",
                    "type": "POST"
                },

                //Set column definition initialisation properties.
                "columnDefs": [

                    {
                        "targets": [-1], //last column
                        "orderable": false, //set not orderable
                    },
                ],

            });

            $('#btn-filterus').click(function() { //button filter event click
                    reload_table_prov(); //just reload table
            });
            $('#btn-resetus').click(function() { //button reset event click
            $('#form-filterus')[0].reset();
                reload_table_prov(); //just reload table
            });

        });

        function reload_table_blok() {
            $('#table_blok').DataTable().ajax.reload();
        }

        function add_blok() {
            save_blok_method = 'add';
            $('#form_blok')[0].reset(); // reset form on modals
            $('.form-group').removeClass('has-error'); // clear error class
            $('.help-block').empty(); // clear error string
            $('#modal_blok').modal('show'); // show bootstrap modal
            $('.modal-title').text('Add Master Blok'); // Set Title to Bootstrap modal title
        }

        function save_blok() {
            $('#btn_blok').text('saving...'); //change button text
            $('#btn_blok').attr('disabled', true); //set button disable 
            var url;

            if (save_blok_method == 'add') {
                url = "<?php echo site_url('blok/ajax_add') ?>";
            } else {
                url = "<?php echo site_url('blok/ajax_update') ?>";
            }

            // ajax adding data to database
            $.ajax({
                url: url,
                type: "POST",
                data: $('#form_blok').serialize(),
                dataType: "JSON",
                success: function(data) {

                    if (data.status === false) {
                        swal({
                            title: "Error!",
                            text: (data.kliru),
                            icon: "warning",
                        });
                        $('#btn_blok').text('Save'); //change button text
                        $('#btn_blok').attr('disabled', false); //set button enable 
                    } else {
                        $('#modal_blok').modal('hide');
                        swal({
                            title: "Good job!",
                            text: (data.kliru),
                            icon: "success",
                        });
                        reload_table_blok();

                    }
                    $('#btn_blok').text('Save'); //change button text
                    $('#btn_blok').attr('disabled', false); //set button enable 
                }
            });
        }

        function edit_blok(id) {
            save_blok_method = 'update';
            $('#form_blok')[0].reset(); // reset form on modals
            $('.form-group').removeClass('has-error'); // clear error class
            $('.help-block').empty(); // clear error string

            //Ajax Load data from ajax
            $.ajax({
                url: "<?php echo site_url('blok/ajax_edit/') ?>/" + id,
                type: "GET",
                dataType: "JSON",
                success: function(data) {
                    //var checked_option_radio = $('input:radio[name=status]:checked').val();

                    $('[name="id"]').val(data.id);
                    $('[name="kd_blok"]').val(data.kd_blok);
                        // $('[name="uname"]').attr('readonly', 'readonly');
                    $('#modal_blok').modal('show'); // show bootstrap modal when complete loaded
                    $('.modal-title').text('Edit Master Blok'); // Set title to Bootstrap modal title

                },
                error: function(jqXHR, textStatus, errorThrown) {
                    alert('Error get data from ajax');
                }
            });
        }
    </script>
    <!--Master Blok -->

</body>

</html>
